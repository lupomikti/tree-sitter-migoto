{
  "$schema": "https://tree-sitter.github.io/tree-sitter/assets/schemas/grammar.schema.json",
  "name": "migoto",
  "rules": {
    "document": {
      "type": "SEQ",
      "members": [
        {
          "type": "REPEAT",
          "content": {
            "type": "PATTERN",
            "value": "\\r?\\n"
          }
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "_preamble"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SYMBOL",
            "name": "section"
          }
        }
      ]
    },
    "_preamble": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "namespace_declaration"
        },
        {
          "type": "SYMBOL",
          "name": "conditional_include_statement"
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "SYMBOL",
              "name": "namespace_declaration"
            },
            {
              "type": "SYMBOL",
              "name": "conditional_include_statement"
            }
          ]
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "SYMBOL",
              "name": "conditional_include_statement"
            },
            {
              "type": "SYMBOL",
              "name": "namespace_declaration"
            }
          ]
        }
      ]
    },
    "namespace_declaration": {
      "type": "SEQ",
      "members": [
        {
          "type": "ALIAS",
          "content": {
            "type": "STRING",
            "value": "namespace"
          },
          "named": true,
          "value": "namespace_key"
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "ALIAS",
              "content": {
                "type": "PATTERN",
                "value": "[^>\\\\|/<?:*=$\\r\\n]+(?:[\\\\/][^>\\\\|/<?:*=$\\r\\n]+)*",
                "flags": "i"
              },
              "named": true,
              "value": "namespace"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "conditional_include_statement": {
      "type": "SEQ",
      "members": [
        {
          "type": "ALIAS",
          "content": {
            "type": "STRING",
            "value": "condition"
          },
          "named": true,
          "value": "condition_key"
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "section": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_special_section"
        },
        {
          "type": "SYMBOL",
          "name": "setting_section"
        }
      ]
    },
    "_special_section": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "constants_section"
        }
      ]
    },
    "constants_header": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "["
        },
        {
          "type": "IMMEDIATE_TOKEN",
          "content": {
            "type": "STRING",
            "value": "Constants"
          }
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "STRING",
              "value": "]"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "constants_section": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "header",
          "content": {
            "type": "SYMBOL",
            "name": "constants_header"
          }
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "CHOICE",
            "members": [
              {
                "type": "SYMBOL",
                "name": "global_declaration"
              },
              {
                "type": "SYMBOL",
                "name": "primary_statement"
              }
            ]
          }
        }
      ]
    },
    "setting_section_header": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "["
        },
        {
          "type": "IMMEDIATE_TOKEN",
          "content": {
            "type": "PATTERN",
            "value": "(Logging|System|Device|Stereo|Rendering|Hunting|Profile|ConvergenceMap|Loader|Resource.+|Include.*)",
            "flags": "i"
          }
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "STRING",
              "value": "]"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "setting_section": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "header",
          "content": {
            "type": "SYMBOL",
            "name": "setting_section_header"
          }
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SYMBOL",
            "name": "setting_statement"
          }
        }
      ]
    },
    "setting_statement": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "key",
          "content": {
            "type": "SYMBOL",
            "name": "setting_section_key"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "FIELD",
          "name": "value",
          "content": {
            "type": "SYMBOL",
            "name": "setting_section_value"
          }
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "setting_section_key": {
      "type": "PATTERN",
      "value": "\\w\\w+",
      "flags": "i"
    },
    "setting_section_value": {
      "type": "REPEAT1",
      "content": {
        "type": "CHOICE",
        "members": [
          {
            "type": "FIELD",
            "name": "fixed_value",
            "content": {
              "type": "SYMBOL",
              "name": "fixed_key_value"
            }
          },
          {
            "type": "SYMBOL",
            "name": "frame_analysis_option"
          },
          {
            "type": "SYMBOL",
            "name": "boolean_value"
          },
          {
            "type": "STRING",
            "value": "null"
          },
          {
            "type": "SYMBOL",
            "name": "string"
          },
          {
            "type": "SYMBOL",
            "name": "path_value"
          },
          {
            "type": "SYMBOL",
            "name": "numeric_constant"
          },
          {
            "type": "SYMBOL",
            "name": "fuzzy_match_expression"
          },
          {
            "type": "SYMBOL",
            "name": "free_text"
          }
        ]
      }
    },
    "fixed_key_value": {
      "type": "CHOICE",
      "members": [
        {
          "type": "ALIAS",
          "content": {
            "type": "STRING",
            "value": "mono"
          },
          "named": true,
          "value": "multi_key_value"
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "(none|overrule|depth_(?:(?:in)?active))",
            "flags": "i"
          },
          "named": true,
          "value": "override_key_value"
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "(?xi)(\n  front|back|wireframe|solid|\n  undefined|(point|line|triangle)_list|(line|triangle)_strip|(line|triangle)_(list|strip)_adj|[123]?d_control_point_patch_list|\n  debug|skip_(validation|optimization)|pack_matrix_(row_major|column_major)|partial_precision|force_[vp]s_software_no_opt|no_preshader|(avoid|prefer)_flow_control|enable_(strictness|backwards_compatibility|unbounded_descriptor_tables)|ieee_strictness|optimization_level[0123]|warnings_are_errors|resources_may_alias|all_resources_bound\n)"
          },
          "named": true,
          "value": "custom_shader_key_value"
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "(default|immutable|dynamic|staging)",
            "flags": "i"
          },
          "named": true,
          "value": "fuzzy_match_key_value"
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "(?xi)(\n  auto|stereo|\n  (?:RW)?(?:Append|Consume)?StructuredBuffer|(?:RW)?(?:ByteAddress)?Buffer|(?:RW)?Texture[123]D|TextureCube|\n  (?:vertex|index|constant)_buffer|shader_resource|stream_output|render_target|unordered_access|decoder|video_encoder|\n  texturecube|generate_mips|shared|drawindirect_args|buffer_(?:allow_raw_views|structured)|resource_clamp|shared_(?:keymutex|nthandle)|gdi_compatible|restricted_content|restrict_shared_resource(?:_driver)?|guarded|tile_pool|tiled|hw_protected\n)"
          },
          "named": true,
          "value": "resource_key_value"
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "(?xi)(?:DXGI_FORMAT_)?(UNKNOWN|R32G32B32A32_TYPELESS|R32G32B32A32_FLOAT|R32G32B32A32_UINT|R32G32B32A32_SINT|R32G32B32_TYPELESS|R32G32B32_FLOAT|R32G32B32_UINT|R32G32B32_SINT|R16G16B16A16_TYPELESS|R16G16B16A16_FLOAT|R16G16B16A16_UNORM|R16G16B16A16_UINT|R16G16B16A16_SNORM|R16G16B16A16_SINT\n|R32G32_TYPELESS|R32G32_FLOAT|R32G32_UINT|R32G32_SINT|R32G8X24_TYPELESS|D32_FLOAT_S8X24_UINT|R32_FLOAT_X8X24_TYPELESS|X32_TYPELESS_G8X24_UINT|R10G10B10A2_TYPELESS|R10G10B10A2_UNORM|R10G10B10A2_UINT|R11G11B10_FLOAT|R8G8B8A8_TYPELESS|R8G8B8A8_UNORM|R8G8B8A8_UNORM_SRGB\n|R8G8B8A8_UINT|R8G8B8A8_SNORM|R8G8B8A8_SINT|R16G16_TYPELESS|R16G16_FLOAT|R16G16_UNORM|R16G16_UINT|R16G16_SNORM|R16G16_SINT|R32_TYPELESS|D32_FLOAT|R32_FLOAT|R32_UINT|R32_SINT|R24G8_TYPELESS|D24_UNORM_S8_UINT|R24_UNORM_X8_TYPELESS|X24_TYPELESS_G8_UINT|R8G8_TYPELESS\n|R8G8_UNORM|R8G8_UINT|R8G8_SNORM|R8G8_SINT|R16_TYPELESS|R16_FLOAT|D16_UNORM|R16_UNORM|R16_UINT|R16_SNORM|R16_SINT|R8_TYPELESS|R8_UNORM|R8_UINT|R8_SNORM|R8_SINT|A8_UNORM|R1_UNORM|R9G9B9E5_SHAREDEXP|R8G8_B8G8_UNORM|G8R8_G8B8_UNORM|BC1_TYPELESS|BC1_UNORM|BC1_UNORM_SRGB\n|BC2_TYPELESS|BC2_UNORM|BC2_UNORM_SRGB|BC3_TYPELESS|BC3_UNORM|BC3_UNORM_SRGB|BC4_TYPELESS|BC4_UNORM|BC4_SNORM|BC5_TYPELESS|BC5_UNORM|BC5_SNORM|B5G6R5_UNORM|B5G5R5A1_UNORM|B8G8R8A8_UNORM|B8G8R8X8_UNORM|R10G10B10_XR_BIAS_A2_UNORM|B8G8R8A8_TYPELESS|B8G8R8A8_UNORM_SRGB\n|B8G8R8X8_TYPELESS|B8G8R8X8_UNORM_SRGB|BC6H_TYPELESS|BC6H_UF16|BC6H_SF16|BC7_TYPELESS|BC7_UNORM|BC7_UNORM_SRGB|AYUV|Y410|Y416|NV12|P010|P016|420_OPAQUE|YUY2|Y210|Y216|NV11|AI44|IA44|P8|A8P8|B4G4R4A4_UNORM)"
          },
          "named": true,
          "value": "resource_type"
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "(add|(?:rev_)?subtract|min|max|disable)",
            "flags": "i"
          },
          "named": true,
          "value": "blend_operator"
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "(zero|one|(?:inv_)?(?:src1?|dest)_(?:color|alpha)|src_alpha_sat|(?:inv_)?blend_factor)",
            "flags": "i"
          },
          "named": true,
          "value": "blend_factor"
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "(deferred_contexts|(?:immediate_)?context|device|all|recommended|except_set_(?:shader_resources|sampler|rasterizer_state)|skip_dxgi_(?:factory|device))",
            "flags": "i"
          },
          "named": true,
          "value": "system_key_value"
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "(depth_stencil|swap_chain)",
            "flags": "i"
          },
          "named": true,
          "value": "device_key_value"
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "(3dmigoto|embedded|bytecode)",
            "flags": "i"
          },
          "named": true,
          "value": "rendering_key_value"
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "(skip|original|pink|hlsl|asm|assembly|regex|ShaderRegex|clipboard|mono_snapshot|stereo_snapshot|snapshot_if_pink)",
            "flags": "i"
          },
          "named": true,
          "value": "hunting_key_value"
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "(?:(?:no_)?(?:ctrl|alt|shift|windows)|no_modifiers)",
            "flags": "i"
          },
          "named": true,
          "value": "key_binding_modifier"
        }
      ]
    },
    "boolean_value": {
      "type": "PATTERN",
      "value": "(?:true|false|yes|no|on|off)",
      "flags": "i"
    },
    "path_value": {
      "type": "CHOICE",
      "members": [
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "(?:(?:(?:[a-z]:|\\.\\.?)[\\\\\\/])?(?:\\.\\.|[^>\\\\|\\/<?:*=$\\r\\n]+)(?:(?:\\\\|\\/)(?:\\.\\.|[^>\\\\|\\/<?:*=$\\r\\n]+))+)",
            "flags": "i"
          },
          "named": true,
          "value": "path_key_value"
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "[^>\\\\|/<?:*=$\\r\\n]+\\.[a-z0-9\\-]+",
            "flags": "i"
          },
          "named": true,
          "value": "file_key_value"
        }
      ]
    },
    "fuzzy_match_expression": {
      "type": "SEQ",
      "members": [
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "FIELD",
              "name": "operator",
              "content": {
                "type": "PATTERN",
                "value": "([><]=?|[!=])"
              }
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "integer"
            },
            {
              "type": "SYMBOL",
              "name": "field_expression"
            }
          ]
        }
      ]
    },
    "field_expression": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "field_name",
          "content": {
            "type": "PATTERN",
            "value": "((?:res_)?(?:width|height)|depth|array)",
            "flags": "i"
          }
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "*"
                },
                {
                  "type": "SYMBOL",
                  "name": "integer"
                }
              ]
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "/"
                },
                {
                  "type": "SYMBOL",
                  "name": "integer"
                }
              ]
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "primary_statement": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "local_declaration"
        },
        {
          "type": "SYMBOL",
          "name": "_general_statement"
        }
      ]
    },
    "_general_statement": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "instruction_statement"
        }
      ]
    },
    "global_declaration": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_global_transient_declaration"
        },
        {
          "type": "SYMBOL",
          "name": "_global_persist_declaration"
        }
      ]
    },
    "_global_transient_declaration": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "global"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "FIELD",
              "name": "variable",
              "content": {
                "type": "SYMBOL",
                "name": "named_variable"
              }
            },
            {
              "type": "ALIAS",
              "content": {
                "type": "SYMBOL",
                "name": "_global_initialisation"
              },
              "named": true,
              "value": "assignment_statement"
            }
          ]
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "_global_persist_declaration": {
      "type": "SEQ",
      "members": [
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "global"
                },
                {
                  "type": "STRING",
                  "value": "persist"
                }
              ]
            },
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "persist"
                },
                {
                  "type": "STRING",
                  "value": "global"
                }
              ]
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "FIELD",
              "name": "variable",
              "content": {
                "type": "SYMBOL",
                "name": "named_variable"
              }
            },
            {
              "type": "ALIAS",
              "content": {
                "type": "SYMBOL",
                "name": "_global_initialisation"
              },
              "named": true,
              "value": "assignment_statement"
            }
          ]
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "_global_initialisation": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "variable",
          "content": {
            "type": "SYMBOL",
            "name": "named_variable"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "FIELD",
          "name": "value",
          "content": {
            "type": "SYMBOL",
            "name": "_static_value"
          }
        }
      ]
    },
    "local_declaration": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "local"
        },
        {
          "type": "FIELD",
          "name": "variable",
          "content": {
            "type": "SYMBOL",
            "name": "named_variable"
          }
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "local_initialisation": {
      "type": "SEQ",
      "members": [
        {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "local"
            },
            {
              "type": "FIELD",
              "name": "variable",
              "content": {
                "type": "SYMBOL",
                "name": "named_variable"
              }
            }
          ]
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "FIELD",
          "name": "expression",
          "content": {
            "type": "SYMBOL",
            "name": "string"
          }
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "instruction_statement": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "run_instruction"
        },
        {
          "type": "SYMBOL",
          "name": "check_texture_override_instruction"
        },
        {
          "type": "SYMBOL",
          "name": "preset_instruction"
        },
        {
          "type": "SYMBOL",
          "name": "handling_instruction"
        },
        {
          "type": "SYMBOL",
          "name": "reset_instruction"
        },
        {
          "type": "SYMBOL",
          "name": "clear_instruction"
        },
        {
          "type": "SYMBOL",
          "name": "stereo_instruction"
        },
        {
          "type": "SYMBOL",
          "name": "dme_instruction"
        },
        {
          "type": "SYMBOL",
          "name": "analysis_instruction"
        },
        {
          "type": "SYMBOL",
          "name": "dump_instruction"
        },
        {
          "type": "SYMBOL",
          "name": "special_instruction"
        },
        {
          "type": "SYMBOL",
          "name": "store_instruction"
        },
        {
          "type": "SYMBOL",
          "name": "draw_instruction"
        },
        {
          "type": "SYMBOL",
          "name": "drawindexed_instruction"
        },
        {
          "type": "SYMBOL",
          "name": "drawinstanced_dispatch_instruction"
        },
        {
          "type": "SYMBOL",
          "name": "drawindirect_instruction"
        },
        {
          "type": "FIELD",
          "name": "instruction",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "PATTERN",
                "value": "drawauto",
                "flags": "i"
              },
              {
                "type": "PATTERN",
                "value": "\\r?\\n"
              }
            ]
          }
        }
      ]
    },
    "run_instruction": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "instruction",
          "content": {
            "type": "PATTERN",
            "value": "run",
            "flags": "i"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SYMBOL",
          "name": "_callable_section"
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "check_texture_override_instruction": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "instruction",
          "content": {
            "type": "PATTERN",
            "value": "checktextureoverride",
            "flags": "i"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SYMBOL",
          "name": "resource_operand"
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "preset_instruction": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "instruction",
          "content": {
            "type": "PATTERN",
            "value": "(?:exclude_)?preset",
            "flags": "i"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "_useable_section_identifier"
            }
          ]
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "handling_instruction": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "instruction",
          "content": {
            "type": "PATTERN",
            "value": "handling",
            "flags": "i"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "FIELD",
          "name": "fixed_value",
          "content": {
            "type": "CHOICE",
            "members": [
              {
                "type": "STRING",
                "value": "skip"
              },
              {
                "type": "STRING",
                "value": "abort"
              }
            ]
          }
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "reset_instruction": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "instruction",
          "content": {
            "type": "PATTERN",
            "value": "reset_per_frame_limits",
            "flags": "i"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "REPEAT1",
          "content": {
            "type": "CHOICE",
            "members": [
              {
                "type": "SYMBOL",
                "name": "resource_operand"
              },
              {
                "type": "SYMBOL",
                "name": "callable_customshader"
              }
            ]
          }
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "clear_instruction": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "instruction",
          "content": {
            "type": "PATTERN",
            "value": "clear",
            "flags": "i"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "REPEAT1",
          "content": {
            "type": "CHOICE",
            "members": [
              {
                "type": "SYMBOL",
                "name": "resource_operand"
              },
              {
                "type": "ALIAS",
                "content": {
                  "type": "PATTERN",
                  "value": "0x[a-f0-9]+",
                  "flags": "i"
                },
                "named": true,
                "value": "hex_integer"
              },
              {
                "type": "SYMBOL",
                "name": "_static_value"
              },
              {
                "type": "FIELD",
                "name": "fixed_value",
                "content": {
                  "type": "CHOICE",
                  "members": [
                    {
                      "type": "STRING",
                      "value": "int"
                    },
                    {
                      "type": "STRING",
                      "value": "depth"
                    },
                    {
                      "type": "STRING",
                      "value": "stencil"
                    }
                  ]
                }
              }
            ]
          }
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "stereo_instruction": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "instruction",
          "content": {
            "type": "PATTERN",
            "value": "(?:separation|convergence)",
            "flags": "i"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SYMBOL",
          "name": "_static_value"
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "dme_instruction": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "instruction",
          "content": {
            "type": "PATTERN",
            "value": "direct_mode_eye",
            "flags": "i"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "FIELD",
          "name": "fixed_value",
          "content": {
            "type": "CHOICE",
            "members": [
              {
                "type": "STRING",
                "value": "mono"
              },
              {
                "type": "STRING",
                "value": "left"
              },
              {
                "type": "STRING",
                "value": "right"
              }
            ]
          }
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "analysis_instruction": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "instruction",
          "content": {
            "type": "PATTERN",
            "value": "analyse_options",
            "flags": "i"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "REPEAT1",
          "content": {
            "type": "SYMBOL",
            "name": "frame_analysis_option"
          }
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "dump_instruction": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "instruction",
          "content": {
            "type": "PATTERN",
            "value": "dump",
            "flags": "i"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "REPEAT1",
          "content": {
            "type": "CHOICE",
            "members": [
              {
                "type": "SYMBOL",
                "name": "resource_operand"
              },
              {
                "type": "SYMBOL",
                "name": "frame_analysis_option"
              }
            ]
          }
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "special_instruction": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "instruction",
          "content": {
            "type": "PATTERN",
            "value": "special",
            "flags": "i"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "FIELD",
          "name": "fixed_value",
          "content": {
            "type": "CHOICE",
            "members": [
              {
                "type": "STRING",
                "value": "upscaling_switch_bb"
              },
              {
                "type": "STRING",
                "value": "draw_3dmigoto_overlay"
              }
            ]
          }
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "store_instruction": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "instruction",
          "content": {
            "type": "PATTERN",
            "value": "store",
            "flags": "i"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SYMBOL",
          "name": "named_variable"
        },
        {
          "type": "STRING",
          "value": ","
        },
        {
          "type": "SYMBOL",
          "name": "resource_usage_expression"
        },
        {
          "type": "STRING",
          "value": ","
        },
        {
          "type": "SYMBOL",
          "name": "integer"
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "draw_instruction": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "instruction",
          "content": {
            "type": "PATTERN",
            "value": "draw",
            "flags": "i"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "FIELD",
              "name": "fixed_value",
              "content": {
                "type": "CHOICE",
                "members": [
                  {
                    "type": "STRING",
                    "value": "auto"
                  },
                  {
                    "type": "STRING",
                    "value": "from_caller"
                  }
                ]
              }
            },
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "SYMBOL",
                  "name": "integer"
                },
                {
                  "type": "REPEAT",
                  "content": {
                    "type": "SEQ",
                    "members": [
                      {
                        "type": "STRING",
                        "value": ","
                      },
                      {
                        "type": "SYMBOL",
                        "name": "integer"
                      }
                    ]
                  }
                }
              ]
            }
          ]
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "drawindexed_instruction": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "instruction",
          "content": {
            "type": "PATTERN",
            "value": "drawindexed(?:instanced)?",
            "flags": "i"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "FIELD",
              "name": "fixed_value",
              "content": {
                "type": "PATTERN",
                "value": "auto",
                "flags": "i"
              }
            },
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "SYMBOL",
                  "name": "integer"
                },
                {
                  "type": "REPEAT",
                  "content": {
                    "type": "SEQ",
                    "members": [
                      {
                        "type": "STRING",
                        "value": ","
                      },
                      {
                        "type": "SYMBOL",
                        "name": "integer"
                      }
                    ]
                  }
                }
              ]
            }
          ]
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "drawinstanced_dispatch_instruction": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "instruction",
          "content": {
            "type": "PATTERN",
            "value": "(?:drawinstanced|dispatch)",
            "flags": "i"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "SYMBOL",
              "name": "integer"
            },
            {
              "type": "REPEAT",
              "content": {
                "type": "SEQ",
                "members": [
                  {
                    "type": "STRING",
                    "value": ","
                  },
                  {
                    "type": "SYMBOL",
                    "name": "integer"
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "drawindirect_instruction": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "instruction",
          "content": {
            "type": "PATTERN",
            "value": "(?:drawinstanced|drawindexedinstanced|dispatch)indirect",
            "flags": "i"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "SYMBOL",
                "name": "resource_operand"
              },
              {
                "type": "STRING",
                "value": ","
              },
              {
                "type": "SYMBOL",
                "name": "integer"
              }
            ]
          },
          "named": true,
          "value": "resource_offset_expression"
        },
        {
          "type": "PATTERN",
          "value": "\\r?\\n"
        }
      ]
    },
    "resource_usage_expression": {
      "type": "SEQ",
      "members": [
        {
          "type": "REPEAT",
          "content": {
            "type": "SYMBOL",
            "name": "resource_modifier"
          }
        },
        {
          "type": "SYMBOL",
          "name": "resource_operand"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SYMBOL",
            "name": "resource_modifier"
          }
        }
      ]
    },
    "resource_modifier": {
      "type": "PATTERN",
      "value": "(copy(?:_desc(?:ription)?)?|ref(?:erence)?|raw|stereo|mono|stereo2mono|set_viewport|no_view_cache|resolve_msaa|unless_null)",
      "flags": "i"
    },
    "resource_operand": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_language_variable"
        },
        {
          "type": "SYMBOL",
          "name": "ini_parameter"
        },
        {
          "type": "SYMBOL",
          "name": "resource_identifier"
        },
        {
          "type": "SYMBOL",
          "name": "custom_resource"
        }
      ]
    },
    "identifier": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "resource_operand"
        },
        {
          "type": "SYMBOL",
          "name": "override_parameter"
        },
        {
          "type": "SYMBOL",
          "name": "named_variable"
        },
        {
          "type": "SYMBOL",
          "name": "_callable_section"
        }
      ]
    },
    "_language_variable": {
      "type": "CHOICE",
      "members": [
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "(?:[vhdgpc]s-cb\\d{1,2}|vb\\d|ib|(?:[rf]_)?bb)",
            "flags": "i"
          },
          "named": true,
          "value": "buffer_variable"
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "(?:[pc]s-u\\d|s?o\\d|od|[vhdgpc]s(?:-t\\d{1,3})?)",
            "flags": "i"
          },
          "named": true,
          "value": "shader_variable"
        }
      ]
    },
    "resource_identifier": {
      "type": "TOKEN",
      "content": {
        "type": "PATTERN",
        "value": "(?:this|(?:ini|stereo)params|cursor_(?:mask|color))",
        "flags": "i"
      }
    },
    "custom_resource": {
      "type": "SEQ",
      "members": [
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "Resource",
            "flags": "i"
          },
          "named": true,
          "value": "resource_prefix"
        },
        {
          "type": "IMMEDIATE_TOKEN",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "CHOICE",
                "members": [
                  {
                    "type": "TOKEN",
                    "content": {
                      "type": "SEQ",
                      "members": [
                        {
                          "type": "STRING",
                          "value": "\\"
                        },
                        {
                          "type": "IMMEDIATE_TOKEN",
                          "content": {
                            "type": "ALIAS",
                            "content": {
                              "type": "PATTERN",
                              "value": "[^>\\\\|/<?:*=$\\r\\n]+(?:[\\\\/][^>\\\\|/<?:*=$\\r\\n]+)*",
                              "flags": "i"
                            },
                            "named": true,
                            "value": "namespace"
                          }
                        },
                        {
                          "type": "IMMEDIATE_TOKEN",
                          "content": {
                            "type": "STRING",
                            "value": "\\"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "type": "BLANK"
                  }
                ]
              },
              {
                "type": "ALIAS",
                "content": {
                  "type": "PATTERN",
                  "value": "[^\\-+*/&% !>|<=$\\r\\n]+",
                  "flags": "i"
                },
                "named": true,
                "value": "section_identifier"
              }
            ]
          }
        }
      ]
    },
    "named_variable": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "$"
        },
        {
          "type": "IMMEDIATE_TOKEN",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "CHOICE",
                "members": [
                  {
                    "type": "TOKEN",
                    "content": {
                      "type": "SEQ",
                      "members": [
                        {
                          "type": "STRING",
                          "value": "\\"
                        },
                        {
                          "type": "IMMEDIATE_TOKEN",
                          "content": {
                            "type": "ALIAS",
                            "content": {
                              "type": "PATTERN",
                              "value": "[^>\\\\|/<?:*=$\\r\\n]+(?:[\\\\/][^>\\\\|/<?:*=$\\r\\n]+)*",
                              "flags": "i"
                            },
                            "named": true,
                            "value": "namespace"
                          }
                        },
                        {
                          "type": "IMMEDIATE_TOKEN",
                          "content": {
                            "type": "STRING",
                            "value": "\\"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "type": "BLANK"
                  }
                ]
              },
              {
                "type": "PATTERN",
                "value": "[a-z_]\\w+|[a-z]",
                "flags": "i"
              }
            ]
          }
        }
      ]
    },
    "ini_parameter": {
      "type": "IMMEDIATE_TOKEN",
      "content": {
        "type": "PATTERN",
        "value": "[xyzw]\\d{0,3}",
        "flags": "i"
      }
    },
    "override_parameter": {
      "type": "PATTERN",
      "value": "(?xi)(\n      (?:rt|res|window)_(?:width|height) | (?:vertex|index|instance)_count | first_(?:vertex|index|instance) |\n      thread_group_count_[xyz] | indirect_offset | draw_type | cursor_(?: showing | (?:screen_|window_|hotspot_)?[xy] ) |\n      time | hunting | sli | frame_analysis | effective_dpi | (?:raw_|eye_)?separation | convergence |\n      stereo_(?:active|available) | scissor_(?:left|top|right|bottom) )"
    },
    "_callable_section": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "callable_commandlist"
        },
        {
          "type": "SYMBOL",
          "name": "callable_customshader"
        }
      ]
    },
    "callable_commandlist": {
      "type": "SEQ",
      "members": [
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "(?:BuiltIn)?CommandList",
            "flags": "i"
          },
          "named": true,
          "value": "callable_prefix"
        },
        {
          "type": "IMMEDIATE_TOKEN",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "CHOICE",
                "members": [
                  {
                    "type": "TOKEN",
                    "content": {
                      "type": "SEQ",
                      "members": [
                        {
                          "type": "STRING",
                          "value": "\\"
                        },
                        {
                          "type": "IMMEDIATE_TOKEN",
                          "content": {
                            "type": "ALIAS",
                            "content": {
                              "type": "PATTERN",
                              "value": "[^>\\\\|/<?:*=$\\r\\n]+(?:[\\\\/][^>\\\\|/<?:*=$\\r\\n]+)*",
                              "flags": "i"
                            },
                            "named": true,
                            "value": "namespace"
                          }
                        },
                        {
                          "type": "IMMEDIATE_TOKEN",
                          "content": {
                            "type": "STRING",
                            "value": "\\"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "type": "BLANK"
                  }
                ]
              },
              {
                "type": "ALIAS",
                "content": {
                  "type": "PATTERN",
                  "value": "[^\\-+*/&% !>|<=$\\r\\n]+",
                  "flags": "i"
                },
                "named": true,
                "value": "section_identifier"
              }
            ]
          }
        }
      ]
    },
    "callable_customshader": {
      "type": "SEQ",
      "members": [
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "(?:BuiltIn)?CustomShader",
            "flags": "i"
          },
          "named": true,
          "value": "callable_prefix"
        },
        {
          "type": "IMMEDIATE_TOKEN",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "CHOICE",
                "members": [
                  {
                    "type": "TOKEN",
                    "content": {
                      "type": "SEQ",
                      "members": [
                        {
                          "type": "STRING",
                          "value": "\\"
                        },
                        {
                          "type": "IMMEDIATE_TOKEN",
                          "content": {
                            "type": "ALIAS",
                            "content": {
                              "type": "PATTERN",
                              "value": "[^>\\\\|/<?:*=$\\r\\n]+(?:[\\\\/][^>\\\\|/<?:*=$\\r\\n]+)*",
                              "flags": "i"
                            },
                            "named": true,
                            "value": "namespace"
                          }
                        },
                        {
                          "type": "IMMEDIATE_TOKEN",
                          "content": {
                            "type": "STRING",
                            "value": "\\"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "type": "BLANK"
                  }
                ]
              },
              {
                "type": "ALIAS",
                "content": {
                  "type": "PATTERN",
                  "value": "[^\\-+*/&% !>|<=$\\r\\n]+",
                  "flags": "i"
                },
                "named": true,
                "value": "section_identifier"
              }
            ]
          }
        }
      ]
    },
    "_useable_section_identifier": {
      "type": "SEQ",
      "members": [
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "TOKEN",
              "content": {
                "type": "SEQ",
                "members": [
                  {
                    "type": "STRING",
                    "value": "\\"
                  },
                  {
                    "type": "IMMEDIATE_TOKEN",
                    "content": {
                      "type": "ALIAS",
                      "content": {
                        "type": "PATTERN",
                        "value": "[^>\\\\|/<?:*=$\\r\\n]+(?:[\\\\/][^>\\\\|/<?:*=$\\r\\n]+)*",
                        "flags": "i"
                      },
                      "named": true,
                      "value": "namespace"
                    }
                  },
                  {
                    "type": "IMMEDIATE_TOKEN",
                    "content": {
                      "type": "STRING",
                      "value": "\\"
                    }
                  }
                ]
              }
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "[^\\-+*/&% !>|<=$\\r\\n]+",
            "flags": "i"
          },
          "named": true,
          "value": "section_identifier"
        }
      ]
    },
    "_static_value": {
      "type": "CHOICE",
      "members": [
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "[+-]?(inf|NaN)",
            "flags": "i"
          },
          "named": true,
          "value": "language_constant"
        },
        {
          "type": "SYMBOL",
          "name": "numeric_constant"
        }
      ]
    },
    "numeric_constant": {
      "type": "TOKEN",
      "content": {
        "type": "PATTERN",
        "value": "[+-]?\\d+(\\.\\d+)?",
        "flags": "i"
      }
    },
    "integer": {
      "type": "TOKEN",
      "content": {
        "type": "PATTERN",
        "value": "\\d+",
        "flags": "i"
      }
    },
    "string": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "\""
        },
        {
          "type": "IMMEDIATE_TOKEN",
          "content": {
            "type": "REPEAT",
            "content": {
              "type": "PATTERN",
              "value": "[^\\x00-\\x08\\x0a-\\x1f\\x22\\x5c\\x7f]"
            }
          }
        },
        {
          "type": "IMMEDIATE_TOKEN",
          "content": {
            "type": "STRING",
            "value": "\""
          }
        }
      ]
    },
    "frame_analysis_option": {
      "type": "PATTERN",
      "value": "(?xi)(\n      hold|stereo|mono|\n      dump_(?:rt|depth|tex|[cvi]b)|jp(?:s|e?g)|(?:jp(?:s|e?g)_)?dds|buf|txt|desc|clear_rt|persist|\n      filename_(?:reg|handle)|log|dump_on_(?:unmap|update)|deferred_ctx_(?:immediate|accurate)|\n      share_dupes|symlink|dump_(?:rt|depth|tex)_(?:jps|dds)|dump_[cvi]b_txt)"
    },
    "free_text": {
      "type": "PATTERN",
      "value": "[^\\\\/= \\t\\r\\n]+",
      "flags": "i"
    },
    "comment": {
      "type": "TOKEN",
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "FIELD",
            "name": "start",
            "content": {
              "type": "STRING",
              "value": ";"
            }
          },
          {
            "type": "FIELD",
            "name": "content",
            "content": {
              "type": "ALIAS",
              "content": {
                "type": "PATTERN",
                "value": "[^\\r\\n]*"
              },
              "named": true,
              "value": "comment_content"
            }
          },
          {
            "type": "PATTERN",
            "value": "\\r?\\n"
          }
        ]
      }
    },
    "_blank": {
      "type": "FIELD",
      "name": "blank",
      "content": {
        "type": "PATTERN",
        "value": "\\r?\\n"
      }
    }
  },
  "extras": [
    {
      "type": "SYMBOL",
      "name": "comment"
    },
    {
      "type": "SYMBOL",
      "name": "_blank"
    },
    {
      "type": "PATTERN",
      "value": "[ \\t]"
    }
  ],
  "conflicts": [],
  "precedences": [],
  "externals": [],
  "inline": [],
  "supertypes": [
    "section",
    "primary_statement"
  ],
  "reserved": {}
}